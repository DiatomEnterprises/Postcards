.panel.panel-primary
  .panel-heading{style: "margin-bottom:20px;"}
    %h1.panel-title 
      Contacts
      %button.btn.btn-success.btn-sm{style: "margin-left: 10px;", "ng-click" => "toggleCreate()"} Add new receiver +
      - if current_account.is_admin?  
        %button.btn.btn-success.btn-sm{style: "margin-left: 10px;", "ng-click" => "toggleOwnerChange()"} Edit contact owner
      .col-xs-3.pull-right
        %form.form-inline
          .form-group.pull-right
            %label Receivers per page
            %input.form-control{max: "100", min: "1", "ng-model" => "pageSize", type: "number"}/
  .panel-body{style: "margin-left: 5px;"}
    %form.form-inline{"ng-submit" => "filterReceivers()"}
      .form-group
        %label Start date
        %input{"ng-model" => "filterDate.start_date", type: "date", id: "birthpicker", style: "color: black;", class: 'form-control', required: ""}
      .form-group{style: "margin-left: 15px;"}
        %label End date
        %input{"ng-model" => "filterDate.end_date", type: "date", id: "birthpicker", style: "color: black;", class: 'form-control', required: ""}
      .form-group{style: "margin-left: 15px;"}
        %button.btn.btn-xs.btn-primary{type: "submit"} Filter
        %button.btn.btn-success.btn-xs{"ng-click" => "clearFilter()", type: "button"}  Clear filter
      .form-group.pull-right
        %label Search in text
        %input#search.form-control{"ng-model" => "searchText", placeholder:"Search..."}/

    %hr
    %table.table.table-hover
      %thead
        %tr
          %th
            %a{href: "#", "ng-click" => "orderByField='first_name'; reverseSort = !reverseSort"}
              First Name
              %span{"ng-show" => "orderByField == 'first_name'"}
                %span{"ng-show" => "!reverseSort"} ^
                %span{"ng-show" => "reverseSort"} v
          %th
            %a{href: "#", "ng-click" => "orderByField='last_name'; reverseSort = !reverseSort"}
              Last Name
              %span{"ng-show" => "orderByField == 'last_name'"}
                %span{"ng-show" => "!reverseSort"} ^
                %span{"ng-show" => "reverseSort"} v
          - if current_account.is_admin?    
            %th
              %a{href: "#", "ng-click" => "orderByField='email'; reverseSort = !reverseSort"}
                E-mail
                %span{"ng-show" => "orderByField == 'email'"}
                  %span{"ng-show" => "!reverseSort"} ^
                  %span{"ng-show" => "reverseSort"} v
          %th
            %a{href: "#", "ng-click" => "orderByField='birthday'; reverseSort = !reverseSort"}
              Birthday
              %span{"ng-show" => "orderByField == 'birthday'"}
                %span{"ng-show" => "!reverseSort"} ^
                %span{"ng-show" => "reverseSort"} v
          %th
            %a{href: "#", "ng-click" => "orderByField='city'; reverseSort = !reverseSort"}
              City
              %span{"ng-show" => "orderByField == 'city'"}
                %span{"ng-show" => "!reverseSort"} ^
                %span{"ng-show" => "reverseSort"} v
          %th
            %a{href: "#", "ng-click" => "orderByField='country'; reverseSort = !reverseSort"}
              Country
              %span{"ng-show" => "orderByField == 'country'"}
                %span{"ng-show" => "!reverseSort"} ^
                %span{"ng-show" => "reverseSort"} v
          %th
            %a{href: "#", "ng-click" => "orderByField='zip'; reverseSort = !reverseSort"}
              Zip
              %span{"ng-show" => "orderByField == 'zip'"}
                %span{"ng-show" => "!reverseSort"} ^
                %span{"ng-show" => "reverseSort"} v 
          %th
            %a{href: "#", "ng-click" => "orderByField='address_line_1'; reverseSort = !reverseSort"}
              Address
              %span{"ng-show" => "orderByField == 'address_line_1'"}
                %span{"ng-show" => "!reverseSort"} ^
                %span{"ng-show" => "reverseSort"} v
          %th
            %button.btn.btn-success.btn-xs{"ng-click" => "addAllToList()", type: "button"}  Add all to list

      %dir-pagination-controls{"boundary-links" => "true", "on-page-change" => "pageChangeHandler(newPageNumber)", "template-url" => "dirPagination.tpl.html"}
      %tbody
        %tr{"current-page" => "currentPage", "dir-paginate" => "receiver in (filteredList = (postcards | filter:searchText)) | itemsPerPage: pageSize | orderBy:orderByField:reverseSort"}
          %td
            {{receiver.first_name}}
          %td 
            {{receiver.last_name}}
          - if current_account.is_admin?
            %td
              {{receiver.email}}
          %td
            {{receiver.birthday}}
          %td
            {{receiver.city}}
          %td
            {{receiver.country}}
          %td
            {{receiver.zip}}
          %td
            {{receiver.address_line_1}}
            %br
            {{receiver.address_line_2}}
            %br
            {{receiver.address_line_3}}
            %td
              %button.btn.btn-success.btn-xs{"ng-click" => "toggleEdit(false, receiver)", type: "button", style: "margin-bottom: 5px;"} Edit
              %br
              %button.btn.btn-danger.btn-xs{"ng-click" => "deleteReceiver(receiver)", type: "button", style: "margin-bottom: 5px;"} Delete
              %br
              %button.btn.btn-primary.btn-xs{"ng-click" => "addToList(receiver)", type: "button", style: "margin-bottom: 5px;"} Add to list

    %dir-pagination-controls{"boundary-links" => "true", "on-page-change" => "pageChangeHandler(newPageNumber)", "template-url" => "dirPagination.tpl.html"}